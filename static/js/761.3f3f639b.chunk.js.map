{"version":3,"file":"static/js/761.3f3f639b.chunk.js","mappings":"sQACA,EAA0B,8BAA1B,EAAuE,mC,SCwFvE,EAlFqB,WACnB,OAAgCA,EAAAA,EAAAA,WAAS,GAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAAwCF,EAAAA,EAAAA,UAAS,CAAC,GAAlD,eAAOG,EAAP,KAAqBC,EAArB,KAEMC,GAAWC,EAAAA,EAAAA,MAEXC,GAAeC,EAAAA,EAAAA,QAAOH,EAASI,MAAQJ,EAASI,MAAMC,KAAO,KAE3DC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAUF,EAAQG,MAAM,EAAGH,EAAQI,QAElCC,EAAoEb,EAApEa,MAAOC,EAA6Dd,EAA7Dc,YAAaC,EAAgDf,EAAhDe,aAAcC,EAAkChB,EAAlCgB,OAAQC,EAA0BjB,EAA1BiB,aAAcC,EAAYlB,EAAZkB,SAXtC,wCA0BzB,WAAiCC,GAAjC,gFACEpB,GAAY,GADd,kBAIuBqB,EAAAA,EAAAA,gBAAoBD,GAJ3C,gBAISE,EAJT,EAISA,KACPpB,EAAgBoB,GAChBtB,GAAY,GANd,kDASIuB,MAAM,4BATV,2DA1ByB,sBA2CzB,OAJAC,EAAAA,EAAAA,YAAU,YAvCe,oCAwCvBC,CAAiBd,EAChB,GAAE,CAACA,IAGJZ,IACA,4BACE,UAAC,KAAD,CAAM2B,GAAIrB,EAAasB,QAASC,UAAWC,EAA3C,WACG,SAAC,MAAD,KACD,0BAAM,gBAER,iBAAKD,UAAWC,EAAhB,WACE,gBAAKC,IAtCX,SAAmBf,GACjB,OAAIA,EACI,kCAAN,OAAyCA,GAEpC,2FACR,CAiCegB,CAAUhB,GAAciB,IAAKlB,KACvC,4BACE,0BAAKA,EAAM,KAAGI,EAAaN,MAAM,EAAE,GAAG,QACtC,yBAAG,eAAaqB,KAAKC,MAAqB,GAAflB,GAAmB,QAC9C,wBAAI,cACJ,uBAAIG,KACJ,wBAAI,YACJ,uBAtCR,SAAuBF,GACrB,IAAMkB,EAAa,GAEnB,OADAlB,EAAOmB,KAAI,gBAAEC,EAAF,EAAEA,KAAF,OAAYF,EAAWG,KAAKD,EAA5B,IACHF,EAAWI,UACpB,CAkCWC,CAAcvB,YAItB,mBACA,4BACI,uBAAG,4BACH,2BACE,yBACE,SAAC,KAAD,CAAMS,GAAG,OAAT,SAAgB,YAElB,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,SAAmB,qBAI3B,mBACA,SAAC,EAAAe,SAAD,CAAUC,UAAU,yBAAK,eAAzB,UACI,SAAC,KAAD,QAIT,C,6DCrFcC,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,0FACqB,mDACXC,EAAS,IAAIC,gBAAgB,CAC/BC,QAAS,qCAHjB,SAKiBC,EAAAA,EAAAA,IAAA,UAJI,mDAIJ,YAAyBH,IAL1C,0GAQeI,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAA4BC,GAA5B,6EACqB,4CACXL,EAAS,IAAIC,gBAAgB,CAC/BC,QAAS,mCACTI,MAAOD,IAJf,SAMiBF,EAAAA,EAAAA,IAAA,UALI,4CAKJ,YAAyBH,IAN1C,0GASeO,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCC,GAAhC,gFACUC,EADV,6CAC2DD,GACjDR,EAAS,IAAIC,gBAAgB,CAC/BC,QAAS,qCAHjB,SAKiBC,EAAAA,EAAAA,IAAA,UAAaM,EAAb,YAAyBT,IAL1C,0GAQeU,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCF,GAAhC,gFACUC,EADV,6CAC2DD,EAD3D,YAEUR,EAAS,IAAIC,gBAAgB,CAC/BC,QAAS,qCAHjB,SAKiBC,EAAAA,EAAAA,IAAA,UAAaM,EAAb,YAAyBT,IAL1C,0GAQeW,SAAAA,IAAf,OAAeA,GAAAA,EAAAA,EAAAA,GAAAA,IAAAA,MAAf,WAAgCH,GAAhC,gFACUC,EADV,6CAC2DD,EAD3D,YAEUR,EAAS,IAAIC,gBAAgB,CAC/BC,QAAS,qCAHjB,SAKiBC,EAAAA,EAAAA,IAAA,UAAaM,EAAb,YAAyBT,IAL1C,0GAQA,IAAMvB,EAAM,CACRsB,Y,WA1CWA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EA2CXK,YArCF,SAEaA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EAoCXG,gBA7BF,SAEaA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EA4BXG,gBAtBF,SAEaA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,EAqBXC,gBAfF,SAEaA,GAAAA,OAAAA,EAAAA,MAAAA,KAAAA,UAAAA,GAgBf,K","sources":["webpack://react-homework-template/./src/page/MovieDetails/MovieDetails.module.css?40f4","page/MovieDetails/MovieDetails.jsx","servise/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details\":\"MovieDetails_details__JrGch\",\"backLocation\":\"MovieDetails_backLocation__tlBj3\"};","import { useState, useEffect, Suspense } from \"react\";\nimport { useRef } from 'react';\nimport { useLocation, useParams, Link, Outlet } from \"react-router-dom\";\nimport { AiOutlineArrowLeft } from \"react-icons/ai\";\nimport API from 'servise/api';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [isRender, setIsRender] = useState(false);\n  const [movieDetails, setMovieDetails] = useState({});\n\n  const location = useLocation(); \n  // const backLocation = useRef(location.state?.from?? '/');\n  const backLocation = useRef(location.state ? location.state.from : '/');\n\n  const { movieId } = useParams(); \n  const fetchId = movieId.slice(1, movieId.length);\n  \n  const {title, poster_path, vote_average, genres, release_date, overview} = movieDetails; \n\n  function getPoster(poster_path) {\n    if (poster_path) {\n      return `http://image.tmdb.org/t/p/w342/${poster_path}`;\n    }\n    return 'https://t4.ftcdn.net/jpg/04/99/93/31/360_F_499933117_ZAUBfv3P1HEOsZDrnkbNCt4jc3AodArl.jpg';\n  };\n\n  function getGenreNames(genres) {\n    const genreNames = [];\n    genres.map(({name}) => genreNames.push(name));\n    return (genreNames.toString());\n  };\n  \n  async function handleFetchMovie (id) {\n    setIsRender(false);\n      \n  try {\n    const {data} = await API.getMovieDetails(id); \n    setMovieDetails(data);\n    setIsRender(true);\n    } \n    catch (error) {\n      alert(\"Sorry. Please try again.\"); \n    } \n  };\n\n  useEffect(() => {\n    handleFetchMovie(fetchId); \n    }, [fetchId]); \n\n  return (\n    isRender &&\n    <div>\n      <Link to={backLocation.current} className={css.backLocation}>\n        {<AiOutlineArrowLeft/>} \n        <span>Go back</span>\n      </Link>\n      <div className={css.details}>\n        <img src={getPoster(poster_path)} alt={title} />\n        <div>\n          <h1>{title} ({release_date.slice(0,4)})</h1>\n          <p>User Score: {Math.trunc(vote_average * 10)}%</p>\n          <h2>Overview</h2>\n          <p>{overview}</p>\n          <h2>Genres</h2>\n          <p>{getGenreNames(genres)}\n          </p>\n        </div>\n      </div>\n      <hr></hr>\n      <div>\n          <p>Additional information</p>\n          <ul>\n            <li>\n              <Link to=\"cast\">Cast</Link>\n            </li>\n            <li>\n              <Link to=\"reviews\">Reviews</Link>\n            </li>\n          </ul>\n      </div>\n      <hr></hr>\n      <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;","import axios from \"axios\";\n\nasync function getTrending () {\n    const BASE_URL = 'https://api.themoviedb.org/3/trending/movie/week';\n    const params = new URLSearchParams({\n        api_key: 'f06240549d838abb3d31b9bb8bd509ce',\n    });\n    return await axios.get(`${BASE_URL}?${params}`); \n};\n\nasync function searchMovie (q) {\n    const BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n    const params = new URLSearchParams({\n        api_key: 'f06240549d838abb3d31b9bb8bd509ce',\n        query: q,\n    });\n    return await axios.get(`${BASE_URL}?${params}`); \n};\n\nasync function getMovieDetails (movie_id) {\n    const BASE_URL = `https://api.themoviedb.org/3/movie/${movie_id}`;\n    const params = new URLSearchParams({\n        api_key: 'f06240549d838abb3d31b9bb8bd509ce',\n    });\n    return await axios.get(`${BASE_URL}?${params}`); \n};\n\nasync function getMovieCredits (movie_id) {\n    const BASE_URL = `https://api.themoviedb.org/3/movie/${movie_id}/credits`;\n    const params = new URLSearchParams({\n        api_key: 'f06240549d838abb3d31b9bb8bd509ce',\n    });\n    return await axios.get(`${BASE_URL}?${params}`); \n};\n\nasync function getMovieReviews (movie_id) {\n    const BASE_URL = `https://api.themoviedb.org/3/movie/${movie_id}/reviews`;\n    const params = new URLSearchParams({\n        api_key: 'f06240549d838abb3d31b9bb8bd509ce',\n    });\n    return await axios.get(`${BASE_URL}?${params}`); \n};\n\nconst API = {\n    getTrending,\n    searchMovie,\n    getMovieDetails,\n    getMovieCredits,\n    getMovieReviews,\n};\n\nexport default API;"],"names":["useState","isRender","setIsRender","movieDetails","setMovieDetails","location","useLocation","backLocation","useRef","state","from","movieId","useParams","fetchId","slice","length","title","poster_path","vote_average","genres","release_date","overview","id","API","data","alert","useEffect","handleFetchMovie","to","current","className","css","src","getPoster","alt","Math","trunc","genreNames","map","name","push","toString","getGenreNames","Suspense","fallback","getTrending","params","URLSearchParams","api_key","axios","searchMovie","q","query","getMovieDetails","movie_id","BASE_URL","getMovieCredits","getMovieReviews"],"sourceRoot":""}